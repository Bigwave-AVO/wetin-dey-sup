<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Wetin Dey Sup</title>
  <meta name="description" content="Wetin Dey Sup is a simple, private mental health journal for sharing your mood and thoughts.">
  <meta name="theme-color" content="#d35400">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="default">
  <meta property="og:title" content="Wetin Dey Sup - Mental Health Journal">
  <meta property="og:description" content="A simple, private mental health journal for sharing your mood and thoughts.">
  <meta property="og:type" content="website">
  <meta property="og:image" content="icon-512.png">
  <meta property="og:url" content="https://wetin-dey-sup-iota.vercel.app/">

  <link rel="icon" type="image/png" sizes="192x192" href="assets/android-chrome-192x192.png">
  <link rel="icon" type="image/png" sizes="512x512" href="assets/android-chrome-512x512.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/apple-touch-icon.png">
  <link rel="manifest" href="manifest.json">

  <link rel="stylesheet" href="style.css">
  <script type="module" src="js/main.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => {
        navigator.serviceWorker.register('service-worker.js')
          .then(reg => console.log('Service Worker registered'))
          .catch(err => console.error('Service Worker registration failed:', err));
      });
    }

    // If not unlocked, show lock screen
    document.addEventListener('DOMContentLoaded', function() {
      if (!localStorage.getItem('wetinPasscode')) {
        document.body.classList.remove('unlocked');
      } else {
        document.body.classList.add('unlocked');
      }
    });
  </script>
</head>
<body>
  <div id="hamburger" tabindex="0">
    <div></div>
    <div></div>
    <div></div>
  </div>
  <nav id="menuDrawer">
    <button id="themeToggleBtn">Change Theme</button>
    <a href="reminder.html"><button type="button">Reminders & Timers</button></a>
    <button id="changePasscodeBtn">Change Passcode</button>
    <button id="exportBtn">Export All Gist 📄</button>
  </nav>
  <div class="app">
    <h1>🧠 Wetin Dey Sup</h1>
    <div id="setPasscodeScreen">
      <h2>🔐 Set a Passcode for your journal</h2>
      <input type="password" id="newPasscode" placeholder="New Passcode">
      <input type="password" id="confirmPasscode" placeholder="Confirm Passcode">
      <button id="setPasscodeBtn">Set Passcode</button>
      <p id="setPasscodeError" style="display:none;color:red;">Ode Passcodes no match! 😐</p>
    </div>
    <div id="lockScreen">
      <h2>🔐 Enter Passcode</h2>
      <input type="password" id="passcodeInput" placeholder="Enter Passcode">
      <button id="unlockBtn">Unlock Journal</button>
      <p id="passcodeError" style="display:none;color:red;">you just dey Gbezome,...Oga open your eyes write correct passcode jor!</p>
      <button id="forgotPasscode">Forgot Passcode?</button>
    </div>
    <div id="forgotPasscodeModal" style="display:none;">
      <div class="modal-overlay">
        <div class="full-entry-modal">
          <p>olodo, How you go forget your passcode? omo, oya Wetin you wan do like this?</p>
          <button id="resetPasscodeBtn">Reset Passcode (Clear All Gist)</button>
          <button id="rememberPasscodeBtn">Try Again</button>
        </div>
      </div>
    </div>
    <div id="mainContent">
      <button id="lockNowBtn">Lock Journal 🔒</button>
      <form id="entryForm">
        <label for="mood">How you dey feel?</label>
        <select id="mood">
          <option value="" disabled selected>Select mood</option>
          <option value="😄 Happy">😄 Happy</option>
          <option value="😞 Sad">😞 Sad</option>
          <option value="😡 Angry">😡 Angry</option>
          <option value="😕 Confused">😕 Confused</option>
          <option value="😩 Tired">😩 Tired</option>
          <option value="😎 Chill">😎 Chill</option>
        </select>
        <textarea id="thoughts" placeholder="Wetin dey sup for your head?"></textarea>
        <button type="submit">Save Gist</button>
        <button type="button" id="clearAll">Clear All Gist 🗑️</button>
      </form>
      <div id="filterDiv">
        <label for="filterMood">Filter by mood:</label>
        <select id="filterMood">
          <option value="all">All</option>
          <option value="😄 Happy">😄 Happy</option>
          <option value="😞 Sad">😞 Sad</option>
          <option value="😡 Angry">😡 Angry</option>
          <option value="😕 Confused">😕 Confused</option>
          <option value="😩 Tired">😩 Tired</option>
          <option value="😎 Chill">😎 Chill</option>
        </select>
      </div>
      <h2>Your Past Gist 📓</h2>
      <div id="entries"></div>
    </div>
  </div>
</body>
</html>

